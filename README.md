# ğŸ›¡ï¸ ëŠ¥ë™ë°©ì–´ ì‹œìŠ¤í…œ (RHEL ì „ìš©)

Red Hat Enterprise Linux ê¸°ë°˜ ëŠ¥ë™ë°©ì–´ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

- **Apache ë˜ëŠ” nginx ì„ íƒ ê°€ëŠ¥**: ì„¤ì¹˜ ì‹œ ì›¹ì„œë²„ ì„ íƒ
- **ëŒ€ì—­í­ íš¨ìœ¨ì  ë°©ì–´**: 444ë¥¼ í™œìš©í•œ ì¦‰ì‹œ ì—°ê²° ì¢…ë£Œë¡œ ë¹„ìš© ì ˆê°
- **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬**: ì •ìƒ ê±°ë˜ IP ì˜ˆì™¸ ì²˜ë¦¬ (ì˜ˆ: 5000 TPS)
- **ë™ì  ì„ê³„ì¹˜ ì¡°ì •**: ì‹¤ì‹œê°„ ë³´ì•ˆ ì •ì±… ë³€ê²½
- **ì›¹ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤**: IP ì°¨ë‹¨/í•´ì œ, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, ì„ê³„ì¹˜ ì„¤ì •
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: ë³´ì•ˆ í†µê³„ ë° ê³µê²© ë¶„ì„

## ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

- Red Hat Enterprise Linux 7/8/9
- ìµœì†Œ 2GB RAM
- ìµœì†Œ 10GB ë””ìŠ¤í¬ ê³µê°„
- root ë˜ëŠ” sudo ê¶Œí•œ

## ğŸ› ï¸ ì„¤ì¹˜

### ë¹ ë¥¸ ì„¤ì¹˜

```bash
# ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
chmod +x install.sh
sudo ./install.sh

# ì„¤ì¹˜ ì¤‘ ì›¹ì„œë²„ ì„ íƒ:
# 1) Apache (mod_security ê¸°ë°˜)
# 2) nginx (Lua ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜)
```

ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ:
- EPEL ì €ì¥ì†Œ í™œì„±í™”
- ì„ íƒí•œ ì›¹ì„œë²„ ì„¤ì¹˜
- Redis ì„¤ì¹˜ ë° ì„¤ì •
- ëŠ¥ë™ë°©ì–´ ì„¤ì • ì ìš©
- ë°©í™”ë²½ ë° SELinux ì„¤ì •

## ğŸ”§ ì„¤ì •

### ë°©í™”ë²½ ì„¤ì •

```bash
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

### SELinux ì„¤ì •

```bash
sudo setsebool -P httpd_can_network_connect 1
sudo setsebool -P httpd_can_network_relay 1
```

## ğŸ“Š ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤

ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†:

```
http://your-server:8080/admin
```

### ê¸°ëŠ¥

- **ì°¨ë‹¨ëœ IP ê´€ë¦¬**: ì°¨ë‹¨/í•´ì œ, ì°¨ë‹¨ ì‚¬ìœ  í™•ì¸
- **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸**: ì •ìƒ ê±°ë˜ IP ë“±ë¡ (5000 TPS ì˜ˆì™¸ ì²˜ë¦¬)
- **ì„ê³„ì¹˜ ì„¤ì •**: Rate Limiting, ìœ„í˜‘ ì ìˆ˜, DDOS íŒë‹¨ ê¸°ì¤€ ì¡°ì •
- **ì‹¤ì‹œê°„ í†µê³„**: ì´ ìš”ì²­ ìˆ˜, ì°¨ë‹¨ íšŸìˆ˜, í™œì„± ê³µê²©
- **ë³´ì•ˆ ë¡œê·¸**: ì‹¤ì‹œê°„ ê³µê²© ì‹œë„ ëª¨ë‹ˆí„°ë§

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ì„ íƒëœ ì›¹ì„œë²„ (ë‘˜ ì¤‘ í•˜ë‚˜)   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   ë˜ëŠ”   â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Apache  â”‚          â”‚nginx â”‚ â”‚
â”‚  â”‚(mod_sec)â”‚          â”‚(Lua) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚
â”‚       â”‚                  â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”‚
â”‚  â”‚     ê³µí†µ ë°©ì–´ ë¡œì§        â”‚  â”‚
â”‚  â”‚ (threat_detection.lua)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                   â”‚
â”‚       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚       â”‚  Redis Cache   â”‚       â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
active-defense-sys/
â”œâ”€â”€ install.sh                  # í†µí•© ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ nginx-defense.conf          # nginx ì„¤ì •
â”œâ”€â”€ admin/
â”‚   â””â”€â”€ index.html              # ì›¹ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ apache/
â”‚   â”œâ”€â”€ apache-defense.conf     # Apache ì„¤ì •
â”‚   â””â”€â”€ setup-apache-defense.sh # Apache ì„¤ì¹˜
â”œâ”€â”€ lua/                        # nginx Lua ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ defense.lua             # ê¸°ë³¸ ë°©ì–´
â”‚   â””â”€â”€ advanced_defense.lua    # ê³ ê¸‰ ì „ëµ
â”œâ”€â”€ common/                     # ê³µí†µ ë¡œì§
â”‚   â””â”€â”€ threat_detection.lua    # ìœ„í˜‘ ê°ì§€
â”œâ”€â”€ api/                        # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â””â”€â”€ admin_api_server.lua    # ê´€ë¦¬ API
â””â”€â”€ scripts/                    # ìœ í‹¸ë¦¬í‹°
    â”œâ”€â”€ automation.sh           # ìë™í™”
    â””â”€â”€ log_analyzer.sh         # ë¡œê·¸ ë¶„ì„
```

## ğŸ›¡ï¸ ë°©ì–´ ì „ëµ

### 1. ëŒ€ì—­í­ íš¨ìœ¨ì  ì°¨ë‹¨ (444)

HTTP ì‘ë‹µ ì—†ì´ ì¦‰ì‹œ ì—°ê²° ì¢…ë£Œ â†’ ëŒ€ì—­í­ ì†Œë¹„ ì œë¡œ

### 2. íƒ€ì„ì•„ì›ƒ ì „ëµ

ê³µê²©ìë¥¼ ëŒ€ê¸°ì‹œì¼œ ë¦¬ì†ŒìŠ¤ ì†Œëª¨

### 3. Honey Token

ê°€ì§œ ì·¨ì•½ í˜ì´ì§€ ì œê³µìœ¼ë¡œ ê³µê²© ì •ë³´ ìˆ˜ì§‘

### 4. Shadow Ban

ì°¨ë‹¨ ì‚¬ì‹¤ì„ ìˆ¨ê²¨ ê³„ì† ìš”ì²­ ìœ ë„

## ğŸ“ˆ ì„±ëŠ¥ ë¹„êµ

```
ê¸°ì¡´ ë°©ì‹ (403 ì°¨ë‹¨):
- ëŒ€ì—­í­: 100 KB/sec
- ì›” ë¹„ìš©: ~$50-100

ê°œì„  ë°©ì‹ (444 ì‚¬ìš©):
- ëŒ€ì—­í­: ê±°ì˜ ì œë¡œ
- ì›” ë¹„ìš©: ~$1-5

ì ˆê°: 95% ì´ìƒ ë¹„ìš© ì ˆê°
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### SELinux ë¬¸ì œ
```bash
sudo setsebool -P httpd_can_network_connect 1
```

### í¬íŠ¸ ì¶©ëŒ
```bash
sudo netstat -tlnp | grep :80
sudo kill -9 <PID>
```

### ë¡œê·¸ í™•ì¸
```bash
# Apache
sudo tail -f /var/log/httpd/security.log

# nginx
sudo tail -f /var/log/nginx/security.log
```

## ğŸ“š ë¬¸ì„œ

- [RHEL ê°€ì´ë“œ](docs/RHEL_GUIDE.md)
- [ëŒ€ì—­í­ íš¨ìœ¨ ì „ëµ](docs/BANDWIDTH_EFFICIENCY.md)

## ğŸ”„ ì—…ë°ì´íŠ¸

```bash
git pull origin master
sudo systemctl restart nginx httpd
```

## ğŸ“ ì§€ì›

[GitHub Issues](https://github.com/supersignal/active-defense-sys/issues)

## ğŸ“œ ë¼ì´ì„ ìŠ¤

MIT License